<!DOCTYPE html>
<html
xmlns="http://www.w3.org/1999/xhtml"
xmlns:mei="http://www.music-encoding.org/ns/mei"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:mo="http://purl.org/ontology/mo/"
xmlns:mo-i="http://purl.org/ontology/mo-imaginary/"
xmlns:event="http://purl.org/NET/c4dm/event.owl"
version="HTML+RDFa 1.0" xml:lang="en">
	<head>
		<title>MEI-to-VexFlow Test Page</title>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
		<script type="text/JavaScript" src="../../vexflow/build/vexflow/vexflow-min.js"></script>
		<script type="text/JavaScript" src="../tables.js"></script>
		<script type="text/JavaScript" src="../meilib.js"></script>
		<script type="text/JavaScript" src="../meitovexflow.js"></script>
		<script type="text/JavaScript" src="../EventLink.js"></script>
		<script type="text/JavaScript" src="../EventReference.js"></script>
		<script type="text/JavaScript" src="../StaffInfo.js"></script>
		<script type="text/JavaScript" src="loadxmldoc.js"></script>
		<script type="text/JavaScript" src="runtest.js"></script>		
		<script type="text/JavaScript">
			var testItem_html = "<h2><span class='test-title' property='dc:title'>Title of Test Comes Here</span></h2><div class='a'><canvas width='1031' height='450' style='border: none'></canvas></div>"
			var prokofiev_embedded = '<?xml version="1.0" encoding="UTF-8"?>';
			prokofiev_embedded += '			<mei:mei meiversion="2013" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.music-encoding.org/ns/mei" xmlns:mei="http://www.music-encoding.org/ns/mei">';
			prokofiev_embedded += '				<mei:meiHead>';
			prokofiev_embedded += '					<mei:fileDesc>';
			prokofiev_embedded += '						<mei:titleStmt>';
			prokofiev_embedded += '							<mei:title/>';
			prokofiev_embedded += '						</mei:titleStmt>';
			prokofiev_embedded += '						<mei:pubStmt/>';
			prokofiev_embedded += '					</mei:fileDesc>';
			prokofiev_embedded += '				</mei:meiHead>';
			prokofiev_embedded += '				<mei:music>';
			prokofiev_embedded += '					<mei:body>';
			prokofiev_embedded += '						<mei:mdiv>';
			prokofiev_embedded += '							<mei:score>';
			prokofiev_embedded += '								<mei:scoreDef key.pname="c" key.mode="major">';
			prokofiev_embedded += '									<mei:staffGrp>';
			prokofiev_embedded += '										<mei:staffDef n="1" label="Voice" clef.line="2" clef.shape="G" meter.count="6" meter.unit="8"/>';
			prokofiev_embedded += '										<mei:staffGrp barthru="true">';
			prokofiev_embedded += '											<mei:staffDef n="2" label="Right hand" clef.line="2" clef.shape="G" meter.count="6" meter.unit="8"/>';
			prokofiev_embedded += '											<mei:staffDef n="3" label="Left hand" clef.line="4" clef.shape="F" meter.count="6" meter.unit="8"/>';
			prokofiev_embedded += '										</mei:staffGrp>';
			prokofiev_embedded += '									</mei:staffGrp>';
			prokofiev_embedded += '								</mei:scoreDef>';
			prokofiev_embedded += '								<mei:section>';
			prokofiev_embedded += '									<mei:measure n="1">';
			prokofiev_embedded += '										<mei:staff n="1">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e1-1" dur="4"></mei:rest>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e1-2" dur="8"></mei:rest>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e1-3" dur="4"></mei:rest>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e1-4" dur="8"></mei:rest>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="2">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e2" dur="8"></mei:rest>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e3" pname="d" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e4" pname="d" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e5" pname="d" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e6" pname="d" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e7" pname="d" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="3">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e8a" pname="c" oct="4" dur="16" dots="1"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e8b" pname="c" oct="4" dur="64"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e8c" pname="c" oct="4" dur="64"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e9" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e10" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e11" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e12" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e13" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:tie startid="op36-e8a" endid="op36-e8b"/>';
			prokofiev_embedded += '										<mei:tie startid="op36-e8b" endid="op36-e8c"/>';
			prokofiev_embedded += '									</mei:measure>';
			prokofiev_embedded += '									<mei:measure n="2">';
			prokofiev_embedded += '										<mei:staff n="1">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e14" dur="4"></mei:rest>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e15" dur="8"></mei:rest>';
			prokofiev_embedded += '												<mei:rest xml:id="op36-e16" dur="4"></mei:rest>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e17" pname="d" oct="4" dur="8">';
			prokofiev_embedded += '													<mei:syl>Ja</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="2">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e18" pname="d" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e19" pname="d" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e20" pname="d" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e21" pname="d" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e22" pname="d" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e23" pname="d" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="3">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e24" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e25" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e26" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e27" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e28" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e29" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '									</mei:measure>';
			prokofiev_embedded += '									<mei:measure n="3">';
			prokofiev_embedded += '										<mei:staff n="1">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e30" pname="f" oct="4" dur="4">';
			prokofiev_embedded += '													<mei:syl>svet</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e31" pname="d" oct="4" dur="8">';
			prokofiev_embedded += '													<mei:syl wordpos="i">za</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e32" pname="g" oct="4" dur="4">';
			prokofiev_embedded += '													<mei:syl wordpos="t">zhgu</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e33" pname="e" accid="f" oct="4" dur="8">';
			prokofiev_embedded += '													<mei:syl>Ja</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="2">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e34" pname="d" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e35" pname="d" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e36" pname="d" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e37" pname="d" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e38" pname="e" accid="f" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e39" pname="e" accid="f" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="3">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e40" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e41" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e42" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e43" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e44" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e45" pname="c" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:hairpin xml:id="d1e352" startid="op36-e43" endid="op36-e45" form="cres" place="below" staff="3"/>';
			prokofiev_embedded += '									</mei:measure>';
			prokofiev_embedded += '									<mei:measure n="4">';
			prokofiev_embedded += '										<mei:staff n="1">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e46" pname="a" accid="f" oct="4" dur="4">';
			prokofiev_embedded += '													<mei:syl>svet</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e47" pname="b" accid="f" oct="4" dur="8">';
			prokofiev_embedded += '													<mei:syl wordpos="i">za</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e48" pname="c" oct="5" dur="4">';
			prokofiev_embedded += '													<mei:syl wordpos="t">zhgu</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e49" pname="d" oct="5" dur="8">';
			prokofiev_embedded += '													<mei:syl>Ja</mei:syl>';
			prokofiev_embedded += '												</mei:note>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="2">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:chord>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e50" pname="a" accid="f" oct="4" dur="4" dots="1"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e51" pname="e" accid="f" oct="4" dur="4" dots="1"></mei:note>';
			prokofiev_embedded += '												</mei:chord>';
			prokofiev_embedded += '												<mei:chord>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e52" pname="c" accid="f" oct="5" dur="4"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e53" pname="a" accid="f" oct="4" dur="4"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e54" pname="e" oct="4" dur="4"></mei:note>';
			prokofiev_embedded += '												</mei:chord>';
			prokofiev_embedded += '												<mei:note xml:id="op36-e55" pname="d" accid="f" oct="5" dur="8"></mei:note>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '										<mei:staff n="3">';
			prokofiev_embedded += '											<mei:layer>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e56" pname="c" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e57" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e58" pname="c" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '												<mei:beam>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e59" pname="c" oct="4" dur="8" tie="t"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e60" pname="c" oct="4" dur="8"></mei:note>';
			prokofiev_embedded += '													<mei:note xml:id="op36-e61" pname="c" oct="4" dur="8" tie="i"></mei:note>';
			prokofiev_embedded += '												</mei:beam>';
			prokofiev_embedded += '											</mei:layer>';
			prokofiev_embedded += '										</mei:staff>';
			prokofiev_embedded += '									</mei:measure>';
			prokofiev_embedded += '								</mei:section>';
			prokofiev_embedded += '							</mei:score>';
			prokofiev_embedded += '						</mei:mdiv>';
			prokofiev_embedded += '					</mei:body>';
			prokofiev_embedded += '				</mei:music>';
			prokofiev_embedded += '			</mei:mei>';
			Vex.LogLevel = 5;
			$(document).ready(function(){
				var test_cases = new Array();
				
				//add test cases
				test_cases.push({ title: 'Prokofiev Op. 36', mei_xml_string:prokofiev_embedded });
				
				var canvas_elements = new Array();
				var title_elements = new Array();
				//create as many canvases and title elements as test cases... 
				$(test_cases).each( function(index) {
					$('div.test-page').append(testItem_html);
					
					//...and load them into canvas_elements and title_elements arrays
					canvas_elements[index] = $("div.a canvas")[index] 
					title_elements[index] = $("span.test-title")[index];
				})
				
				//render test cases
				var i;
				for (i=0;i<test_cases.length;i++) {
					Vex.LogInfo('Starting Test Case #' + i.toString());
					try {
						MEI2VF.RunTest(test_cases[i], canvas_elements[i], title_elements[i]);
					} catch(e) {
						Vex.LogError('Error during rendering test case #' + i.toString() + " title: " + test_cases[i].title + ". Error Message: " +  e.toString());
					}
				}
			});
		</script>
	</head>
	<body>
		<div class="test-page">
		</div>
	</body>
</html>
